# -*- coding: utf-8 -*-
"""app.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/135zFrdpZJ1VFVgF3GSOHiMQoNaljRpAy
"""


import numpy as np
import joblib
import streamlit as st

# Load model
model = joblib.load("ev_blast_prediction.pkl")

st.set_page_config(page_title="EV Battery Blast Prediction")
st.title("üîã EV Battery Blast Prediction App")
st.write("Predict whether the EV battery condition is **Safe** or **Blast Risk**")

# Inputs (same pattern as wine app)
battery_type = st.number_input("Battery Type (0: Li-ion, 1: Li-polymer, 2: Lead-acid)", value=None)
poor_cell_design = st.number_input("Poor Cell Design (0 = No, 1 = Yes)", value=None)
external_abuse = st.number_input("External Abuse (0 = No, 1 = Yes)", value=None)
poor_battery_design = st.number_input("Poor Battery Design (0 = No, 1 = Yes)", value=None)
short_circuits = st.number_input("Short Circuits (0 = No, 1 = Yes)", value=None)
temperature = st.number_input("Operating Temperature (¬∞C)", value=None)
overcharge_overdischarge = st.number_input("Overcharge / Overdischarge (0 = No, 1 = Yes)", value=None)
battery_maintenance = st.number_input("Battery Maintenance (0 = Poor, 1 = Good)", value=None)

# Prediction (same logic as wine app)
if st.button("Predict"):
    input_data = np.array([[ 
        battery_type,
        poor_cell_design,
        external_abuse,
        poor_battery_design,
        short_circuits,
        temperature,
        overcharge_overdischarge,
        battery_maintenance
    ]])

    prediction = model.predict(input_data)[0]

   if prediction == "Blast":
        st.error("üí• Battery Health: **BLAST RISK**")
    elif prediction == "Chance_of_Blast":
        st.warning("‚ö†Ô∏è Battery Health: **CHANCE OF BLAST**")
    elif prediction == "Moderate":
        st.info("üîã Battery Health: **MODERATE**")
    else:
        st.success("‚úÖ Battery Health: **GOOD**")
